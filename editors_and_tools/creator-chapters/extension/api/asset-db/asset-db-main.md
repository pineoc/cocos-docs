<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# AssetDB

AssetDB singleton class in main process, you can access the instance with `Editor.assetdb`

# urlToUuid

Return uuid by url. if uuid not found, it will return null.

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

# fspathToUuid

Return uuid by file path. if uuid not found, it will return null.

**Parameters**

-   `fspath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

# uuidToFspath

Return file path by uuid. if file path not found, it will return null.

**Parameters**

-   `uuid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

# uuidToUrl

Return url by uuid. if url not found, it will return null.

**Parameters**

-   `uuid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

# fspathToUrl

Return url by file path. if file path not found, it will return null.

**Parameters**

-   `fspath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

# urlToFspath

Return file path by url. if url not found, it will return null.

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

# exists

Check existance by url.

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

# existsByUuid

Check existance by uuid.

**Parameters**

-   `uuid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

# existsByPath

Check existance by path.

**Parameters**

-   `fspath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

# isSubAsset

Check whether asset for a given url is a sub asset.

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

# isSubAssetByUuid

Check whether asset for a given uuid is a sub asset.

**Parameters**

-   `uuid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

# isSubAssetByPath

Check whether asset for a given path is a sub asset.

**Parameters**

-   `fspath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

# containsSubAssets

Check whether asset contains sub assets for a given url.

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

# containsSubAssetsByUuid

Check whether asset contains sub assets for a given uuid.

**Parameters**

-   `uuid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

# containsSubAssetsByPath

Check whether asset contains sub assets for a given path.

**Parameters**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `fspath`  

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

# assetInfo

Return asset info by a given url.

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** { uuid, path, url, type, isSubAsset }

# assetInfoByUuid

Return asset info by a given uuid.

**Parameters**

-   `uuid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** { uuid, path, url, type, isSubAsset }

# assetInfoByPath

Return asset info by a given file path.

**Parameters**

-   `fspath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** { uuid, path, url, type, isSubAsset }

# subAssetInfos

Return all sub assets info by url if the url contains sub assets.

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** [{ uuid, path, url, type, isSubAsset }]

# subAssetInfosByUuid

Return all sub assets info by uuid if the uuid contains sub assets.

**Parameters**

-   `uuid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** [{ uuid, path, url, type, isSubAsset }]

# subAssetInfosByPath

Return all sub assets info by path if the path contains sub assets.

**Parameters**

-   `fspath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** [{ uuid, path, url, type, isSubAsset }]

# loadMeta

Return meta instance by a given url.

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

# loadMetaByUuid

Return meta instance by a given uuid.

**Parameters**

-   `uuid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

# loadMetaByPath

Return meta instance by a given path.

**Parameters**

-   `fspath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

# isMount

Return whether a given url is reference to a mount

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

# isMountByPath

Return whether a given path is reference to a mount

**Parameters**

-   `fspath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

# isMountByUuid

Return whether a given uuid is reference to a mount

**Parameters**

-   `uuid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

# mountInfo

Return mount info by url

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** { path, name, type }

# mountInfoByUuid

Return mount info by uuid

**Parameters**

-   `uuid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** { path, name, type }

# mountInfoByPath

Return mount info by path

**Parameters**

-   `fspath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** { path, name, type }

# mount

mount a directory to assetdb, and give it a name. if you don't provide a name, it will mount to root.

**Parameters**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** file system path
-   `mountPath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the mount path (relative path)
-   `opts` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** options
    -   `opts.hide` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** if the mount hide in assets browser
    -   `opts.virtual` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** if this is a virtual mount point
    -   `opts.icon` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** icon for the mount
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** a callback function

**Examples**

````javascript
    ```js
    Editor.assetdb.mount('path/to/mount', 'assets', function (err) {
      // mounted, do something ...
    });
    ```
````

# attachMountPath

attach the specified mount path

**Parameters**

-   `mountPath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the mount path (relative path)
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** a callback function

**Examples**

````javascript
    ```js
    Editor.assetdb.attachMountPath('assets', function (err, results) {
      // mount path attached, do something ...
      // results are the assets created
    });
    ```
````

# unattachMountPath

unattach the specified mount path

**Parameters**

-   `mountPath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the mount path (relative path)
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** a callback function

**Examples**

````javascript
    ```js
    Editor.assetdb.unattachMountPath('assets', function (err, results) {
      // mount path unattached, do something ...
      // results are the assets deleted
    });
    ```
````

# unmount

Unmount by name

**Parameters**

-   `mountPath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the mount path
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 

**Examples**

````javascript
    ```js
    Editor.assetdb.unmount('assets', function (err) {
      // unmounted, do something ...
    });
    ```
````

# init

Init assetdb, it will scan the mounted directories, and import unimported assets.

**Parameters**

-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 

**Examples**

````javascript
    ```js
    Editor.assetdb.init(function (err, results) {
      // assets that imported during init
      results.forEach(function ( result ) {
        // result.uuid
        // result.parentUuid
        // result.url
        // result.path
        // result.type
      });
    });
    ```
````

# refresh

Refresh the assets in url, and return the results

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 

**Examples**

````javascript
    ```js
    Editor.assetdb.refresh('db://assets/foo/bar/', function (err, results) {
      // assets that imported during init
      results.forEach(function ( result ) {
        if ( result.command === 'delete' ) {
          // result.uuid
          // result.url
          // result.path
          // result.type
        } else if ( result.command === 'change' || result.command === 'create' ) {
          // result.uuid
          // result.parentUuid
          // result.url
          // result.path
          // result.type
        } else if ( result.command === 'uuid-change' ) {
          // result.oldUuid
          // result.uuid
          // result.parentUuid
          // result.url
          // result.path
          // result.type
        }
      });
    });
    ```
````

# deepQuery

deepQuery

**Parameters**

-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 

**Examples**

````javascript
    ```js
    Editor.assetdb.deepQuery(function ( err, results ) {
      results.forEach(function ( result ) {
        // result.name
        // result.extname
        // result.uuid
        // result.type
        // result.isSubAsset
        // result.children - the array of children result
      });
    });
    ```
````

# queryAssets

queryAssets

**Parameters**

-   `pattern` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The url pattern
-   `assetTypes` **([string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array))** The asset type(s)
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** The callback function
-   `urlPattern`  

**Examples**

````javascript
    ```js
    Editor.assetdb.queryAssets( 'db://assets/**\/*', 'texture', function ( err, results ) {
      results.forEach(function ( result ) {
        // result.url
        // result.path
        // result.uuid
        // result.type
        // result.isSubAsset
      });
    });
    ```
````

# queryMetas

queryMetas

**Parameters**

-   `pattern` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The url pattern
-   `type` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The asset type
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** The callback function
-   `urlPattern`  
-   `assetType`  

**Examples**

````javascript
    ```js
    Editor.assetdb.queryAssets( 'db://assets/**\/*', 'texture', function ( err, results ) {
      results.forEach(function ( meta ) {
        // the meta instance
      });
    });
    ```
````

# move

move

**Parameters**

-   `srcUrl` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `destUrl` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 

**Examples**

````javascript
    ```js
    Editor.assetdb.move( 'db://assets/foo/foobar.png', 'db://assets/bar/foobar.png', function ( err, results ) {
      results.forEach(function ( result ) {
        // result.srcPath
        // result.destPath
        // result.uuid
        // result.parentUuid
      });
    });
    ```
````

# delete

delete

**Parameters**

-   `urls` **[array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** 
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 

**Examples**

````javascript
    ```js
    Editor.assetdb.delete( [ 'db://assets/foo/bar.png', 'db://assets/foo/bar.plist' ], function ( err, results ) {
      results.forEach(function ( result ) {
        // result.srcPath
        // result.destPath
        // result.uuid
        // result.parentUuid
      });
    });
    ```
````

# create

Create asset at url with data

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `data` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 

**Examples**

````javascript
    ```js
    Editor.assetdb.create( 'db://assets/foo/bar.js', data, function ( err, results ) {
      results.forEach(function ( result ) {
        // result.uuid
        // result.parentUuid
        // result.url
        // result.path
        // result.type
      });
    });
    ```
````

# saveExists

Save data to the exists asset at url

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `data` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 

**Examples**

````javascript
    ```js
    Editor.assetdb.saveExists( 'db://assets/foo/bar.js', data, function ( err, meta ) {
      // do something
    });
    ```
````

# import

Import raw files to url

**Parameters**

-   `rawfiles` **[array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** 
-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 

**Examples**

````javascript
    ```js
    Editor.assetdb.import( ['/User/user/foo.js', '/User/user/bar.js'], 'db://assets/foobar', function ( err, results ) {
      results.forEach(function ( result ) {
        // result.uuid
        // result.parentUuid
        // result.url
        // result.path
        // result.type
      });
    });
    ```
````

# saveMeta

Overwrite the meta by loading it through uuid

**Parameters**

-   `uuid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `jsonString` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 

**Examples**

````javascript
    ```js
    Editor.assetdb.saveMeta( uuid, jsonString, function ( err, meta ) {
      // do something
    });
    ```
````

# exchangeUuid

Exchange uuid for two assets

**Parameters**

-   `urlA` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `urlB` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 

# clearImports

Clear imports

**Parameters**

-   `url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** 

**Examples**

````javascript
    ```js
    Editor.assetdb.clearImports( 'db://assets/foo/bar.js', function ( err, results ) {
      results.forEach(function ( result ) {
        // result.uuid
        // result.url
        // result.path
        // result.type
      });
    });
    ```
````

# register

Register meta type

**Parameters**

-   `extname` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `folder` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Whether it's a folder type
-   `metaCtor` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

**Examples**

````javascript
    ```js
    Editor.assetdb.register( '.png', false, PngMeta );
    ```
````

# unregister

Unregister meta type

**Parameters**

-   `metaCtor` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

**Examples**

````javascript
    ```js
    Editor.assetdb.unregister( PngMeta );
    ```
````

# getRelativePath

Get the relative path from mount path to the asset by fspath

**Parameters**

-   `fspath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the relative path from mount path to the asset

# getAssetBackupPath

get the backup file path of asset file

**Parameters**

-   `filePath` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** asset file path
